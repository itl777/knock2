(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9993],{2711:function(e){var t;t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r(n(1)),n(6)),i=r(a),s=r(n(7)),c=r(n(8)),u=r(n(9)),d=r(n(10)),l=r(n(11)),f=r(n(14)),m=[],p=!1,v={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(p=!0),p)return m=(0,l.default)(m,v),(0,d.default)(m,v.once),m},b=function(){m=(0,f.default)(),h()},g=function(){m.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})};e.exports={init:function(e){v=o(v,e),m=(0,f.default)();var t,n=document.all&&!window.atob;return!0===(t=v.disable)||"mobile"===t&&u.default.mobile()||"phone"===t&&u.default.phone()||"tablet"===t&&u.default.tablet()||"function"==typeof t&&!0===t()||n?g():(v.disableMutationObserver||c.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),v.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",v.easing),document.querySelector("body").setAttribute("data-aos-duration",v.duration),document.querySelector("body").setAttribute("data-aos-delay",v.delay),"DOMContentLoaded"===v.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?h(!0):"load"===v.startEvent?window.addEventListener(v.startEvent,function(){h(!0)}):document.addEventListener(v.startEvent,function(){h(!0)}),window.addEventListener("resize",(0,s.default)(h,v.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(h,v.debounceDelay,!0)),window.addEventListener("scroll",(0,i.default)(function(){(0,d.default)(m,v.once)},v.throttleDelay)),v.disableMutationObserver||c.default.ready("[data-aos]",b),m)},refresh:h,refreshHard:b}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e){var t=void 0===e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function r(e){if("number"==typeof e)return e;if("symbol"==(void 0===(t=e)?"undefined":o(t))||t&&"object"==(void 0===t?"undefined":o(t))&&h.call(t)==s)return i;if(n(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=n(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;var a=d.test(e=e.replace(c,""));return a||l.test(e)?f(e.slice(2),a?2:8):u.test(e)?i:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="Expected a function",i=NaN,s="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,m="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,p="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,v=m||p||Function("return this")(),h=Object.prototype.toString,b=Math.max,g=Math.min,y=function(){return v.Date.now()};e.exports=function(e,t,o){var i=!0,s=!0;if("function"!=typeof e)throw TypeError(a);return n(o)&&(i="leading"in o?!!o.leading:i,s="trailing"in o?!!o.trailing:s),function(e,t,o){function i(t){var n=l,r=f;return l=f=void 0,_=t,p=e.apply(r,n)}function s(e){var n=e-h,r=e-_;return void 0===h||n>=t||n<0||w&&r>=m}function c(){var e,n,r,o=y();return s(o)?u(o):void(v=setTimeout(c,(e=o-h,n=o-_,r=t-e,w?g(r,m-n):r)))}function u(e){return v=void 0,j&&l?i(e):(l=f=void 0,p)}function d(){var e,n=y(),r=s(n);if(l=arguments,f=this,h=n,r){if(void 0===v)return _=e=h,v=setTimeout(c,t),x?i(e):p;if(w)return v=setTimeout(c,t),i(h)}return void 0===v&&(v=setTimeout(c,t)),p}var l,f,m,p,v,h,_=0,x=!1,w=!1,j=!0;if("function"!=typeof e)throw TypeError(a);return t=r(t)||0,n(o)&&(x=!!o.leading,m=(w="maxWait"in o)?b(r(o.maxWait)||0,t):m,j="trailing"in o?!!o.trailing:j),d.cancel=function(){void 0!==v&&clearTimeout(v),_=0,l=h=f=v=void 0},d.flush=function(){return void 0===v?p:u(y())},d}(e,t,{leading:i,maxWait:t,trailing:s})}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e){var t=void 0===e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function r(e){if("number"==typeof e)return e;if("symbol"==(void 0===(t=e)?"undefined":o(t))||t&&"object"==(void 0===t?"undefined":o(t))&&v.call(t)==i)return a;if(n(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=n(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;var f=u.test(e=e.replace(s,""));return f||d.test(e)?l(e.slice(2),f?2:8):c.test(e)?a:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt,f="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,p=f||m||Function("return this")(),v=Object.prototype.toString,h=Math.max,b=Math.min,g=function(){return p.Date.now()};e.exports=function(e,t,o){function a(t){var n=d,r=l;return d=l=void 0,y=t,m=e.apply(r,n)}function i(e){var n=e-v,r=e-y;return void 0===v||n>=t||n<0||x&&r>=f}function s(){var e,n,r,o=g();return i(o)?c(o):void(p=setTimeout(s,(e=o-v,n=o-y,r=t-e,x?b(r,f-n):r)))}function c(e){return p=void 0,w&&d?a(e):(d=l=void 0,m)}function u(){var e,n=g(),r=i(n);if(d=arguments,l=this,v=n,r){if(void 0===p)return y=e=v,p=setTimeout(s,t),_?a(e):m;if(x)return p=setTimeout(s,t),a(v)}return void 0===p&&(p=setTimeout(s,t)),m}var d,l,f,m,p,v,y=0,_=!1,x=!1,w=!0;if("function"!=typeof e)throw TypeError("Expected a function");return t=r(t)||0,n(o)&&(_=!!o.leading,f=(x="maxWait"in o)?h(r(o.maxWait)||0,t):f,w="trailing"in o?!!o.trailing:w),u.cancel=function(){void 0!==p&&clearTimeout(p),y=0,d=v=l=p=void 0},u.flush=function(){return void 0===p?m:c(g())},u}}).call(t,function(){return this}())},function(e,t){"use strict";function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(function e(t){var n=void 0,r=void 0;for(n=0;n<t.length;n+=1)if((r=t[n]).dataset&&r.dataset.aos||r.children&&e(r.children))return!0;return!1}(t.concat(n)))return o()})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.default={isSupported:function(){return!!n()},ready:function(e,t){var a=window.document,i=new(n())(r);o=t,i.observe(a.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(e,t){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"phone",value:function(){var e=n();return!(!o.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=n();return!(!i.test(e)&&!s.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0===r||"false"!==r&&(n||"true"===r)||e.node.classList.remove("aos-animate")};t.default=function(e,t){var r=window.pageYOffset,o=window.innerHeight;e.forEach(function(e,a){n(e,o+r,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(12))&&r.__esModule?r:{default:r};t.default=function(e,t){return e.forEach(function(e,n){e.node.classList.add("aos-init"),e.position=(0,o.default)(e.node,t.offset)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(13))&&r.__esModule?r:{default:r};t.default=function(e,t){var n=0,r=0,a=window.innerHeight,i={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(i.offset&&!isNaN(i.offset)&&(r=parseInt(i.offset)),i.anchor&&document.querySelectorAll(i.anchor)&&(e=document.querySelectorAll(i.anchor)[0]),n=(0,o.default)(e).top,i.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=a/2;break;case"bottom-center":n+=a/2+e.offsetHeight;break;case"center-center":n+=a/2+e.offsetHeight/2;break;case"top-top":n+=a;break;case"bottom-top":n+=e.offsetHeight+a;break;case"center-top":n+=e.offsetHeight/2+a}return i.anchorPlacement||i.offset||isNaN(t)||(r=t),n+r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})}}])},e.exports=t()},34881:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/reservation/[status]",function(){return n(97654)}])},41051:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow-left.6b25a3fa.svg",height:22,width:47,blurWidth:0,blurHeight:0}},41032:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow-right.5eacb57b.svg",height:22,width:47,blurWidth:0,blurHeight:0}},36452:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),o=n(94525),a=n.n(o),i=n(67294),s=n(11163),c=n(16075),u=n(62325),d=n(61435);function l(e){let{text:t="請先登入",btnText:n="登入",href:o=null,hideBtn:l=!1}=e,f=(0,s.useRouter)(),{auth:m,authIsReady:p}=(0,c.aC)(),{loginFormSwitch:v}=(0,u.NK)();return(0,i.useEffect)(()=>{f.isReady&&p&&!m.id&&v("Login")},[m.id,f.isReady,p]),(0,r.jsxs)("div",{className:a().container,children:[(0,r.jsx)("h6",{children:t}),(0,r.jsx)("img",{src:"/ghost/ghost_06.png",alt:"",className:a().ghostImg}),!l&&(0,r.jsx)(d.Z,{btnText:n,href:o,paddingType:"medium",onClick:()=>{v("Login")}})]})}},59002:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),o=n(73223),a=n(79856),i=n(25675),s=n.n(i),c=n(747),u=n(28829),d=n(41051),l=n(41032);function f(e){let{page:t,totalPages:n,onPageChange:i}=e,f=()=>(0,r.jsx)(s(),{src:d.Z,alt:"Previous",width:47,height:21}),m=()=>(0,r.jsx)(s(),{src:l.Z,alt:"Next",width:47,height:21});return(0,r.jsx)(c.Z,{theme:u.Z,children:(0,r.jsx)("div",{className:"col-12 d-flex justify-content-center mt-5",children:(0,r.jsx)(o.Z,{onChange:(e,t)=>{i(t)},size:"large",page:t,count:n,color:"primary",renderItem:e=>(0,r.jsx)(a.Z,{sx:{color:"#B99755",":hover":{backgroundColor:"rgba(185, 151, 85, 0.20)"},"&.Mui-selected":{color:"#fff"}},components:{previous:f,next:m},...e})})})})}},36391:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),o=n(22897),a=n.n(o),i=n(41664),s=n.n(i),c=n(11163);function u(e){let{tabItems:t=[]}=e,n=(0,c.useRouter)();return(0,r.jsx)("div",{className:a().userTabContainer,children:(0,r.jsx)("ul",{className:a().userTabSec,children:t.map((e,t)=>(0,r.jsx)("li",{className:n.asPath.includes(e.path)?a().active:"",children:(0,r.jsx)(s(),{href:e.path,children:(0,r.jsx)("span",{children:e.name})})},e.key))})})}},22535:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(85893),o=n(11163),a=n(41664),i=n.n(a),s=n(98216),c=n.n(s),u=n(78773);function d(){let e=(0,o.useRouter)(),t=t=>t.some(t=>e.pathname.startsWith(t));return(0,r.jsx)("ul",{className:c().userTab,children:[{key:"profile",name:"會員資料",link:"/user/profile",paths:["/user/profile","/user/reset-password"]},{key:"reservation",name:"行程預約",link:"/user/reservation/ongoing",paths:["/user/reservation"]},{key:"orders",name:"商品訂單",link:"/user/orders/ongoing",paths:["/user/orders"]},{key:"favorite",name:"我的收藏",link:"/user/favorite",paths:["/user/favorite"]},{key:"coupons",name:"優惠券",link:"/user/coupon/ongoing",paths:["/user/coupon"]}].map((e,n)=>(0,r.jsx)("li",{className:t(e.paths)?c().active:"",children:(0,r.jsxs)(i(),{href:e.link,children:[(0,r.jsx)(u.ycZ,{}),(0,r.jsx)("span",{children:e.name})]})},e.key))})}},96345:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893);n(67294);var o=n(5024),a=n.n(o);function i(e){let{userTab:t,userTabSec:n,sectionRight:o}=e;return(0,r.jsx)("section",{className:a().sectionContainer,children:(0,r.jsxs)("div",{className:a().sectionBody,children:[t,(0,r.jsxs)("div",{className:a().sectionRight,children:[n,o]})]})})}},19719:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),o=n(48465),a=n.n(o);function i(e){let{label:t,content:n}=e;return(0,r.jsxs)("div",{className:a().iconTextRow,children:[(0,r.jsx)("p",{className:a().label,children:t}),(0,r.jsx)("p",{children:n})]})}},60077:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893),o=n(52891),a=n.n(o),i=n(35514),s=n(66641);function c(e){let{title:t="標題",btn1Hidden:n=!1,btn1Text:o="按鈕1",btn1Href:c=null,btn1OnClick:u,btn2Hidden:d=!1,btn2Text:l="按鈕2",btn2Href:f=null,btn2OnClick:m,btn3Hidden:p=!1,btn3Text:v="按鈕3",btn3Href:h=null,btn3OnClick:b}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:a().orderDetailHeader,children:[(0,r.jsx)("div",{className:a().headerLeft,children:(0,r.jsx)("p",{className:a().titleStyle,children:t})}),(0,r.jsxs)("div",{className:a().btnStack,children:[!p&&(0,r.jsx)(i.Z,{btnText:v,href:h,onClick:b}),!d&&(0,r.jsx)(i.Z,{btnText:l,href:f,onClick:m}),!n&&(0,r.jsx)(i.Z,{btnText:o,href:c,onClick:u})]})]}),(0,r.jsx)(s.Z,{margin:"1.5rem 0"})]})}},28829:function(e,t,n){"use strict";let r=(0,n(83886).Z)({palette:{primary:{main:"#B99755"},secondary:{main:"#A29415"},standard:{main:"#B99755"},grey:{main:"#5B5B5B",light:"#D9D9D9",dark:"#495057",contrastText:"rgba(255, 255, 255, 1)"},black:{main:"#222",light:"#D9D9D9",dark:"#343a40",contrastText:"rgba(255, 255, 255, 1)"},favRed:{main:"#BA0606",light:"#D9D9D9",dark:"#990101",contrastText:"#BA0606"}}});t.Z=r},33745:function(e,t,n){"use strict";var r=n(11163),o=n(87066),a=n(45747);t.Z=()=>{let e=(0,r.useRouter)();return{handleOrderCancel:async e=>{try{if((await o.Z.post("".concat(a.Qm,"?order_id=").concat(e))).data.success)return{success:!0};return{success:!1,error:"取消訂單失敗"}}catch(e){return console.error("取消訂單錯誤",e),{success:!1,error:"取消訂單錯誤"}}},handleOrderPayment:async(t,n)=>{try{let r=await o.Z.get(a.EJ,{params:{orderId:t,checkoutTotal:n}});r.data.success&&e.push({pathname:"/ecpay-checkout",query:{html:encodeURIComponent(r.data.html)}})}catch(e){console.error("提交表單時出錯",e)}},handleReservationPayment:async t=>{try{let n=await o.Z.get(a.hP,{params:{reservation_id:t}});n.data.success&&e.push({pathname:"/ecpay-checkout",query:{html:encodeURIComponent(n.data.html)}})}catch(e){console.error("提交表單時出錯",e)}},handleReservationCancel:async e=>{try{if((await o.Z.post("".concat(a.oj,"?reservation_id=").concat(e))).data.success)return{success:!0};return{success:!1,error:"取消預約失敗"}}catch(e){return console.error("取消預約錯誤",e),{success:!1,error:"取消預約錯誤"}}}}}},97654:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(85893),o=n(67294),a=n(11163),i=n(53483),s=n(96345),c=n(22535),u=n(36391),d=n(87529),l=n.n(d),f=n(87066),m=n(62325),p=n(16075),v=n(7820),h=n(97928),b=n(33745),g=n(57544),y=n(80917),_=n.n(y),x=n(2711),w=n.n(x),j=n(19719),k=n(60077);function N(e){let{reservation_date:t="reservation_date",theme_name:n="theme_name",theme_img:a="theme_img",session:i="start_time ~ end_time",participants:s="participants",deposit:c,created_at:u,payment_date:d,payment_type:l,cancel:f,rtn_code:m,reservation_status_id:p=0,handleCancel:v,handlePayment:h,index:b}=e,y=new Date().toJSON().slice(0,10);return(0,o.useEffect)(()=>{w().init()},[]),(0,r.jsxs)("div",{className:_().reservationContainer,"data-aos":"fade-right","data-aos-delay":b%2==0?0:200,children:[(0,r.jsx)(k.Z,{title:(0,g.p6)(t),btn1Text:"取消訂單",btn1Hidden:0!==f||!(t>y),btn1OnClick:v,btn2Text:"重新付款",btn2Hidden:!!m&&0!==m||0!==f||!(t>y),btn2OnClick:h,btn3Hidden:!0}),(0,r.jsxs)("div",{className:_().reservationContent,children:[(0,r.jsx)("div",{className:_().reservationLeft,children:(0,r.jsx)("div",{className:_().themeImgBox,children:(0,r.jsx)("img",{src:a})})}),(0,r.jsx)("div",{className:_().reservationRight,children:(0,r.jsxs)("div",{className:_().reservationInfoBox,children:[(0,r.jsx)(j.Z,{label:"行程日期",content:(0,g.n4)(t)}),(0,r.jsx)(j.Z,{label:"密室主題",content:n}),(0,r.jsx)(j.Z,{label:"預約場次",content:i}),(0,r.jsx)(j.Z,{label:"預約人數",content:"".concat(s," 人")}),(0,r.jsx)(j.Z,{label:"訂金金額",content:c}),(0,r.jsx)(j.Z,{label:"成立日期",content:(0,g.p6)(u)}),(0,r.jsx)(j.Z,{label:"付款日期",content:"".concat(1===m?d:1===f?"已取消":t<y?"已逾期":"待付款"," ").concat(1===m?" / ".concat(l):"")})]})})]})]})}var O=n(36452),T=n(59002),Z=n(54677),S=n(45747);function C(e){let{status:t}=e,{auth:n,authIsReady:i}=(0,p.aC)(),{loginFormSwitch:s}=(0,m.NK)(),c=(0,a.useRouter)(),[u,d]=(0,o.useState)(),[y,_]=(0,o.useState)([]),[x,w]=(0,o.useState)(0),[j,k]=(0,o.useState)(1),[C,E]=(0,o.useState)(""),{handleReservationPayment:D,handleReservationCancel:R}=(0,b.Z)(),{openConfirmDialog:M}=(0,v.W)(),{openSnackbar:P}=(0,h.Ds)(),L=async(e,t,n)=>{try{let r=await f.Z.get("".concat(S.EG,"?member_id=").concat(e,"&page=").concat(t,"&status=").concat(n));_(r.data.rows),w(r.data.totalPages)}catch(e){console.error("Error fetching member coupons: ",e)}},z=(e,t,n)=>{let r=new Date().toJSON().slice(0,10);if(3!==e&&t>r)return()=>{D(n)}},A=(e,r,o,a,i)=>{let s=new Date().toJSON().slice(0,10);if(3!==e&&r>s)return async()=>{E("確定要取消 ".concat(r," ").concat(a,"（").concat(i,"）的預約嗎？")),M(async()=>{(await R(o)).success?P("已取消行程預約","success"):P("取消行程預約失敗","error"),L(n.id,j,t)})}};return(0,o.useEffect)(()=>{c.isReady&&i&&(n.id&&(d(!0),L(n.id,j,t)),n.id||(d(!1),s("Login")))},[n.id,c.isReady,i,j,t]),(0,o.useEffect)(()=>{k(1)},[t]),(0,r.jsxs)(r.Fragment,{children:[!u&&(0,r.jsx)(O.Z,{}),u&&(0,r.jsx)("div",{className:l().listContainer,children:y.map((e,t)=>(0,r.jsx)(N,{index:t,reservation_date:e.reservation_date,theme_name:"".concat(e.theme_name," / ").concat(e.branch_name?e.branch_name:""),theme_img:"/themes-main/".concat(e.theme_img),session:"".concat(e.start_time," ~ ").concat(e.end_time),participants:e.participants,deposit:(0,g.T4)(e.deposit),created_at:e.created_at,payment_date:e.payment_date,payment_type:e.payment_type,rtn_code:e.rtn_code,reservation_status_id:e.reservation_status_id,cancel:e.cancel,handleCancel:A(e.reservation_status_id,e.reservation_date,e.reservation_id,e.theme_name,e.branch_name),handlePayment:z(e.reservation_status_id,e.reservation_date,e.reservation_id)},e.reservation_id))}),y.length>0&&(0,r.jsx)(T.Z,{page:j,totalPages:x,onPageChange:e=>{k(e)}}),(0,r.jsx)(Z.Z,{dialogTitle:C,btnTextRight:"確定取消",btnTextLeft:"取消"})]})}function E(){let e=(0,a.useRouter)(),{status:t}=e.query;return(0,o.useEffect)(()=>{t||e.push("/user/reservation/ongoing")},[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{title:"商品訂單",pageName:"user",background:"light",children:(0,r.jsx)(s.Z,{userTab:(0,r.jsx)(c.Z,{}),userTabSec:(0,r.jsx)(u.Z,{tabItems:[{key:"ongoing",name:"進行中",path:"/user/reservation/ongoing"},{key:"complete",name:"已完成",path:"/user/reservation/complete"},{key:"canceled",name:"已取消",path:"/user/reservation/canceled"}]}),sectionRight:(0,r.jsx)(C,{status:t})})})})}},94525:function(e){e.exports={container:"redirect-guide_container__9fNVP",ghostImg:"redirect-guide_ghostImg__IwOg5"}},22897:function(e){e.exports={userTabSec:"user-tab-sec_userTabSec__QGfj_",active:"user-tab-sec_active__CTmZ6",userTabContainer:"user-tab-sec_userTabContainer__nkeKY"}},98216:function(e){e.exports={userTab:"user-tab_userTab__oitHd",active:"user-tab_active__WQZR9"}},5024:function(e){e.exports={sectionContainer:"user-layout_sectionContainer__ZrxdZ",sectionBody:"user-layout_sectionBody__cHqmz",sectionRight:"user-layout_sectionRight__pqtpQ"}},48465:function(e){e.exports={iconTextRow:"order-detail-row_iconTextRow__r0_MW",label:"order-detail-row_label__XXdNe"}},52891:function(e){e.exports={orderDetailHeader:"card-header_orderDetailHeader__PSFjR",headerLeft:"card-header_headerLeft__jyoUL",titleStyle:"card-header_titleStyle__4p5OE",btnStack:"card-header_btnStack___Dj_r"}},80917:function(e){e.exports={reservationContainer:"reservation-list-cards_reservationContainer__JsSbh",reservationContent:"reservation-list-cards_reservationContent__309NA",reservationLeft:"reservation-list-cards_reservationLeft__0TAhY",reservationRight:"reservation-list-cards_reservationRight__1ZOHo",themeImgBox:"reservation-list-cards_themeImgBox__EgQOJ",reservationInfoBox:"reservation-list-cards_reservationInfoBox__5fDfV"}},87529:function(e){e.exports={listContainer:"reservation-page_listContainer__GS2Rf"}}},function(e){e.O(0,[5970,4838,9317,4396,6660,509,2961,4321,959,6497,3223,3483,2888,9774,179],function(){return e(e.s=34881)}),_N_E=e.O()}]);