(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9269],{35777:function(t,e,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/success",function(){return c(58976)}])},265:function(t,e,c){"use strict";c.d(e,{Z:function(){return a}});var r=c(85893),s=c(98451),i=c.n(s),n=c(21173),o=c(48292);function a(t){let{productId:e=0,productName:c="產品名稱",originalPrice:s=0,discountedPrice:a=0,productImg:d="",orderQty:u=1}=t;return(0,r.jsxs)("div",{className:i().itemBox,children:[(0,r.jsx)(n.Z,{imgSrc:d,productId:e}),(0,r.jsxs)("div",{className:i().itemInfo,children:[(0,r.jsx)("p",{children:c}),(0,r.jsxs)("div",{className:i().qtyPriceStack,children:[(0,r.jsxs)("div",{className:i().qty,children:["x ",u]}),(0,r.jsx)(o.Z,{originalPrice:s,discountedPrice:a})]})]})]})}},8227:function(t,e,c){"use strict";var r=c(67294),s=c(87066),i=c(45747);e.Z=()=>{let[t,e]=(0,r.useState)([]),[c,n]=(0,r.useState)([]),[o,a]=(0,r.useState)(!1);return{order:t,detail:c,anyReviewed:o,fetchOrderData:async t=>{try{let c=await s.Z.get("".concat(i.VO,"/").concat(t));if(c.data.status){let t=c.data.orderDetails.find(t=>1==t.review_status);a(!!t),e(c.data.orders[0]),n(c.data.orderDetails)}}catch(t){console.error("Error fetching order and order detail data:",t)}}}}},58976:function(t,e,c){"use strict";c.r(e),c.d(e,{default:function(){return p}});var r=c(85893),s=c(67294),i=c(53483),n=c(28563),o=c.n(n),a=c(11163),d=c(16075),u=c(28552),_=c(8227),l=c(61435),m=c(265),h=c(55750),f=c(45747);function x(){let t=(0,a.useRouter)(),{order_id:e}=t.query,{auth:c,authIsReady:i}=(0,d.aC)(),{calculateProductDiscount:n}=(0,u.j)(),{order:x,detail:p,fetchOrderData:g}=(0,_.Z)();return(0,s.useEffect)(()=>{t.isReady&&i&&c.id&&g(e)},[e,c.id,t.isReady,i]),(0,r.jsxs)("section",{className:o().sectionContainer,children:[(0,r.jsx)("h3",{className:o().titleStyles,children:"訂單付款完成"}),(0,r.jsxs)("div",{className:o().contentContainer,children:[(0,r.jsx)("img",{className:o().ghostImg,src:"/ghost/ghost_03.png",alt:""}),p.map(t=>(0,r.jsx)(m.Z,{productName:t.product_name,originalPrice:t.order_unit_price,discountedPrice:n(t.order_unit_price,t.order_quantity,t.discount_amount,t.discount_percentage,t.minimum_order),productImg:"".concat(f.DI,"/").concat(t.product_img),orderQty:t.order_quantity},t.product_id)),(0,r.jsx)(h.Z,{subtotal:x.subtotal_price,deliverFee:x.deliver_fee,totalDiscount:x.discountTotal,checkoutTotal:x.subtotal_price+x.deliver_fee-x.discountTotal})]}),(0,r.jsxs)("div",{className:o().btnStack,children:[(0,r.jsx)(l.Z,{btnText:"繼續購物",href:"/product",paddingType:"medium"}),(0,r.jsx)(l.Z,{btnText:"檢視訂單",href:"/user/orders/details/".concat(e),paddingType:"medium"})]})]})}function p(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{title:"訂單付款完成",background:"light",children:(0,r.jsx)(x,{})})})}},28563:function(t){t.exports={sectionContainer:"checkout-success_sectionContainer__mGvNk",titleStyles:"checkout-success_titleStyles__dfpt8",contentContainer:"checkout-success_contentContainer__DjzJ6",ghostImg:"checkout-success_ghostImg__Bzry6",btnStack:"checkout-success_btnStack__kD8_k"}},98451:function(t){t.exports={itemBox:"order-item-detail_itemBox__Y_9DS",itemInfo:"order-item-detail_itemInfo__nZ8Ss",qty:"order-item-detail_qty__GV33w",qtyPriceStack:"order-item-detail_qtyPriceStack__wBgBu"}}},function(t){t.O(0,[5970,4838,9317,4396,6660,509,2961,4321,959,6497,3483,2888,9774,179],function(){return t(t.s=35777)}),_N_E=t.O()}]);