(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7999],{49475:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/reservation/[reservation_id]",function(){return n(11287)}])},11287:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var s=n(85893),c=n(67294),a=n(53483),r=n(83921),i=n.n(r),o=n(87066),l=n(11163),u=n(16075),d=n(57544),_=n(61435),h=n(37140),x=n(5854),g=n.n(x);function m(e){let{label:t="label",content:n="content"}=e;return(0,s.jsxs)("div",{className:g().rowBox,children:[(0,s.jsx)("h6",{children:t}),(0,s.jsx)("h6",{children:n})]})}var p=n(85256),f=n.n(p);function j(e){let{deposit:t="500 元",payment_date:n="2024-08-01 10:22"}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:f().alignRight,children:t}),(0,s.jsx)("p",{className:f().alignRight,children:n||"2024-08-01 10:22"})]})}var v=n(45747);function b(){let e=(0,l.useRouter)(),{reservation_id:t}=e.query,{auth:n,authIsReady:a}=(0,u.aC)(),[r,x]=(0,c.useState)([]),[g,p]=(0,c.useState)(!1),[f,b]=(0,c.useState)(""),k=async e=>{b("");try{let t=await o.Z.get("".concat(v.pE,"/").concat(e));t.data.status?(x(t.data.rows[0]),p(!0),b("訂單付款完成")):b("路徑錯誤！")}catch(e){console.error("Error fetching reservation results:",e)}};return(0,c.useEffect)(()=>{e.isReady&&a&&n.id&&k(t)},[e.isReady,a,n.id,t]),(0,s.jsxs)("section",{className:i().sectionContainer,children:[(0,s.jsx)("h3",{className:i().titleStyles,children:f}),r&&(0,s.jsxs)("div",{className:i().contentContainer,children:[(0,s.jsx)("img",{className:i().ghostImg,src:"/ghost/ghost_03.png",alt:""}),(0,s.jsx)(m,{label:"密室主題",content:"".concat(r.branch_name," - ").concat(r.theme_name)}),(0,s.jsx)(m,{label:"預約日期",content:(0,d.n4)(r.reservation_date)}),(0,s.jsx)(m,{label:"預約人數",content:"".concat(r.participants," 人")}),(0,s.jsx)(m,{label:"預約場次",content:"".concat(r.start_time," ~ ").concat(r.end_time)}),(0,s.jsx)(j,{deposit:"訂金金額：".concat(r.deposit," 元"),payment_date:r.payment_date})]}),(0,s.jsxs)("div",{className:i().btnStack,children:[(0,s.jsx)(h.Z,{btnText:"回首頁",onClick:()=>e.push("/"),href:null,paddingType:"medium"}),(0,s.jsx)(_.Z,{btnText:"檢視行程",onClick:()=>e.push("/user/reservation/ongoing"),href:null,paddingType:"medium"})]})]})}function k(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{title:"訂單付款完成",background:"dark",children:(0,s.jsx)(b,{})})})}},83921:function(e){e.exports={sectionContainer:"reservation-success_sectionContainer__aSS1d",titleStyles:"reservation-success_titleStyles__A6C7W",contentContainer:"reservation-success_contentContainer__hkIqV",ghostImg:"reservation-success_ghostImg__rHdad",btnStack:"reservation-success_btnStack__5t4qd"}},85256:function(e){e.exports={alignRight:"success-deposit_alignRight__aVhFl"}},5854:function(e){e.exports={rowBox:"reservation-success-rows_rowBox__Z4n4Y"}}},function(e){e.O(0,[5970,4838,9317,4396,6660,509,2961,4321,959,6497,3483,2888,9774,179],function(){return e(e.s=49475)}),_N_E=e.O()}]);