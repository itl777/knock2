(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7936],{21053:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/product-details/[product_id]",function(){return s(69275)}])},3046:function(e,t,s){"use strict";var a=s(67294),r=s(11163);t.Z=()=>{let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(0);return(0,a.useEffect)(()=>{s(document.body.clientWidth);let e=()=>{s(document.body.clientWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[e.isReady]),t}},69275:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return et}});var a=s(85893),r=s(67294),n=s(3046),i=s(2711),c=s.n(i);s(73969);var d=s(41869),o=s(76957),l=s(45670),u=s(52527),x=s(9940),_=s(25675),h=s.n(_),m=s(75275),f=s(88142);function p(e){let{productRating:t=4,size:s="large"}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(m.Z,{className:"animate__animated animate__bounce",name:"size-large",size:s,value:t||0,readOnly:!0,precision:1,emptyIcon:(0,a.jsx)(f.Z,{style:{opacity:1},fontSize:"inherit"})})})}s(48059);var j=s(67729),g=s.n(j),v=s(45747);function b(e){let{product_id:t}=e,[s,n]=(0,r.useState)(t),[i,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&t.length>0&&(n({...t[0]}),console.log("ProductReview------------"))},[t]);let d=async e=>{console.log("getReview------------");let t="".concat(v.ZS,"/review?product_id=").concat(e);try{let e=await fetch(t),s=await e.json();s.success?(c(s.rows),console.log("執行完fetch",s.rows)):console.log("success=false",s)}catch(e){console.error(e)}};return(0,r.useEffect)(()=>{d(s)},[s]),(0,a.jsx)(a.Fragment,{children:i.length?i.map(e=>(0,a.jsxs)("div",{className:g().reviewed,children:[(0,a.jsx)("div",{className:g().mask,children:(0,a.jsx)(h(),{src:"".concat(v.UW,"/avatar/").concat(e.avatar),width:100,height:100,alt:"Picture of the author"})}),(0,a.jsx)("div",{className:"".concat(g().starArea," text-nowrap"),children:(0,a.jsx)(p,{size:"small",rate:e.rate})}),(0,a.jsxs)("div",{className:g().customerReview,children:[(0,a.jsx)("div",{className:"".concat(g().star780," text-nowrap"),children:(0,a.jsx)(p,{size:"small",rate:e.rate})}),(0,a.jsx)("div",{className:g().content,children:e.review?e.review:"非常喜歡!"}),(0,a.jsxs)("div",{className:g().customer,children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:e.nick_name[0]+"OO"})}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:e.order_date})})]})]})]},e.id)):(0,a.jsx)("div",{className:g().noReview,children:"尚無評價"})})}function N(e){let{description:t}=e,[s,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{n(t.split(";"))},[t]),(0,a.jsx)(a.Fragment,{children:s.map((e,t)=>(0,a.jsx)("p",{className:g().description,children:e},t))})}function w(e){let{data:t}=e,[s,i]=(0,r.useState)("1"),[_,h]=(0,r.useState)({product_id:0,product_name:"",price:0,summary:"",description:"",players:"",age:"",category_id:0}),m=(0,n.Z)(),[f,p]=(0,r.useState)(m);(0,r.useEffect)(()=>{p(m)},[m]),(0,r.useEffect)(()=>{c().init()},[]),(0,r.useEffect)(()=>{t&&t.length>0&&h({...t[0]})},[t]);let j={fontFamily:"Noto Serif JP",border:1,color:"black",borderColor:"#8C764C",borderTopLeftRadius:"15px",borderTopRightRadius:"15px",borderBottom:"#fff",width:"10rem",height:" 53.5px",marginRight:"10px",marginLeft:"10px",fontSize:18,fontWeight:600,"&.Mui-selected":{color:"#fff",backgroundColor:"#B99755"},"&.Mui-focusVisible":{backgroundColor:"#B99755"}},v={backgroundColor:"#fff",borderRadius:"16px",padding:f>992?"80px 120px":"60px",boxShadow:2};return(0,a.jsx)("div",{"data-aos":"fade-up",className:"".concat(g().container," container"),style:{padding:0},children:(0,a.jsx)(d.Z,{sx:{width:"100%",typography:"body1",fontFamily:"Noto Serif JP",maxWidth:"1200px"},children:(0,a.jsxs)(l.ZP,{value:s,children:[(0,a.jsx)(d.Z,{children:(0,a.jsxs)(u.Z,{onChange:(e,t)=>{i(t)},"aria-label":"lab API tabs example",centered:!0,sx:{"& .MuiTabs-indicator":{backgroundColor:"#B99755"}},children:[(0,a.jsx)(o.Z,{sx:j,label:"商品詳情",value:"1"}),(0,a.jsx)(o.Z,{sx:j,label:"商品評價",value:"2"})]})}),(0,a.jsx)(x.Z,{sx:v,value:"1",children:(0,a.jsx)(N,{description:_.description})}),(0,a.jsx)(x.Z,{sx:v,value:"2",children:(0,a.jsx)("div",{className:"".concat(g().reviewArea," col-10 offset-1 "),children:(0,a.jsx)(b,{product_id:_.product_id})})})]})})})}s(35514);var y=s(46066);s(51660),s(27880);var k=s(60781),S=s.n(k),Z=s(72369),R=function(e){let{product_id:t}=e,[s,n]=(0,r.useState)(0),{data:i}=(0,Z.Y)(s);(0,r.useEffect)(()=>{n(t)},[t]);let c={customPaging:function(e){return(0,a.jsx)("a",{children:(0,a.jsx)("img",{src:"".concat(v.DI,"/").concat(i[e],".jpg"),alt:"productImg"})})},dots:!0,dotsClass:"slick-dots ".concat(S()["slick-thumb"]),infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,arrows:!1};return(0,a.jsx)("div",{children:(0,a.jsx)(y.Z,{...c,children:i.map((e,t)=>(0,a.jsx)("div",{className:S()["slider-img"],children:(0,a.jsx)("img",{src:"".concat(v.DI,"/").concat(e,".jpg"),alt:"productImg"})},t))})})},E=s(23767),C=s(47238),z=s(62563),F=s(892),P=s.n(F);function A(){let{buyQuantity:e,setBuyQuantity:t}=(0,z.i)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:P()["input-border"],children:[(0,a.jsx)("button",{className:P().iconBtn,onClick:()=>{t(e-1)},children:(0,a.jsx)(E.Z,{})}),(0,a.jsx)("div",{className:P().iconBtn,children:(0,a.jsx)("input",{className:P().input,type:"number",value:e,onChange:e=>{t(e.target.value)}})}),(0,a.jsx)("button",{className:P().iconBtn,onClick:()=>{t(e+1)},children:(0,a.jsx)(C.Z,{})})]})})}var B=s(98163),T=s(747),W=s(28829);function q(e){let{btnText:t="沒設定",color:s="grey",onClick:i}=e,c=(0,n.Z)(),[d,o]=(0,r.useState)(c);return(0,r.useEffect)(()=>{o(c)},[c]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(T.Z,{theme:W.Z,children:(0,a.jsx)(B.Z,{variant:"contained",color:s,onClick:i,sx:{fontFamily:"Noto Serif JP",borderRadius:"16px",marginLeft:"0.625rem",fontSize:d>576?"18px":"14px",fontWeight:700,letterSpacing:"2.16px",width:d>576?"11.25rem":"auto",padding:d>576?"10px 19px":"6px 16px"},children:t})})})}function O(e){let{btnText:t="沒設定",onClick:s}=e,i=(0,n.Z)(),[c,d]=(0,r.useState)(i);return(0,r.useEffect)(()=>{d(i)},[i]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(T.Z,{theme:W.Z,children:(0,a.jsx)(B.Z,{onClick:s,variant:"outlined",color:"favRed",sx:{fontFamily:"Noto Serif JP",borderRadius:"16px",marginLeft:"0.625rem",fontSize:c>576?"18px":"14px",fontWeight:700,letterSpacing:"2.16px",width:c>576?"11.25rem":"auto",padding:c>576?"10px 19px":"6px 16px",":hover":{}},children:t})})})}var D=s(28552),I=s(54788);function L(e){let{product_id:t,product_name:s}=e,{buyQuantity:r}=(0,z.i)(),{handleAddToCart:n}=(0,D.j)(),{toggleButton:i,data:c}=(0,I.d)(t);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"".concat(P()["btn-group"]),children:[(0,a.jsxs)("div",{className:"position-relative",children:[c.includes(t)?(0,a.jsx)(h(),{className:"".concat(P()["sm-likeStyle"]),src:"/ghost/ghost_10.png",width:44,height:37,alt:"Picture"}):(0,a.jsx)(h(),{className:P()["sm-likeStyle"],src:"/ghost/ghost_19.png",width:44,height:37,alt:"Picture"}),(0,a.jsx)(O,{btnText:c.includes(t)?"已收藏":"加入收藏",onClick:i})]}),(0,a.jsx)(q,{btnText:"加入購物車",color:"grey",onClick:()=>{n(t,s,r,"add")}}),(0,a.jsx)(q,{btnText:"直接購買",color:"black",onClick:()=>{n(t,s,r,"buy")}})]})})}function G(e){let{tag:t="分類標籤"}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"".concat(P().tag," bg-secondary bg-opacity-25 rounded-pill me-3"),children:["#",t]})})}function H(e){let{productData:t}=e,[s,n]=(0,r.useState)({});return(0,r.useEffect)(()=>{n(t)},[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(G,{tag:s.category_name}),(0,a.jsx)(G,{tag:s.duration+"分鐘"}),(0,a.jsx)(G,{tag:s.age}),(0,a.jsx)(G,{tag:s.players})]})})}var Q=s(68258),U=s(11163);function M(){let[e,t]=(0,r.useState)(""),s=(0,U.useRouter)();return(0,r.useEffect)(()=>{t("https://583b-219-70-178-11.ngrok-free.app".concat(s.asPath))},[s.isReady]),(0,a.jsxs)("div",{className:P().share,children:[(0,a.jsx)(Q.Dk,{url:e,hashtag:"一起來玩桌遊!",children:(0,a.jsx)(Q.Vq,{size:30,round:!0})}),(0,a.jsx)(Q.Ni,{url:e,children:(0,a.jsx)(Q.zb,{size:30,round:!0})}),(0,a.jsx)(Q.N0,{url:e,children:(0,a.jsx)(Q.ud,{size:30,round:!0})})]})}function V(e){let{dbData:t}=e,[s,n]=(0,r.useState)({product_id:"",product_name:"",price:0,summary:"",players:"",age:"",category_id:0});return(0,r.useEffect)(()=>{t&&t.length>0&&n({...t[0]})},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"".concat(P().container," container"),children:(0,a.jsxs)("div",{className:"".concat(P()["pd-features"]," row"),children:[(0,a.jsx)("div",{className:"".concat(P().slick," col-lg-5 px-0 position-relative"),children:(0,a.jsx)(R,{product_id:s.product_id})}),(0,a.jsxs)("div",{className:"".concat(P()["features-right"]," col-lg-6 offset-lg-1 col-sm-12 d-flex flex-column justify-content-between "),children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("h1",{className:P().title,children:s.product_name}),(0,a.jsxs)("div",{className:P().shareStar,children:[(0,a.jsx)("div",{className:P().none390,children:(0,a.jsx)(M,{})}),(0,a.jsx)(p,{})]})]}),(0,a.jsx)(H,{productData:s}),(0,a.jsx)("div",{className:P().content,children:s.summary}),(0,a.jsxs)("div",{className:P().price,children:[(0,a.jsxs)("div",{className:P().priceText,children:["$",s.price]}),(0,a.jsxs)("div",{className:P()["media-992"],children:[(0,a.jsx)("div",{className:P().content,children:"數量:"}),(0,a.jsx)(A,{})]})]}),(0,a.jsxs)("div",{className:P().quantity,children:[(0,a.jsx)("div",{className:P().content,children:"數量:"}),(0,a.jsx)(A,{})]}),(0,a.jsx)("div",{className:P()["media-390"],children:(0,a.jsx)(M,{})}),(0,a.jsx)("div",{className:P()["btn-area"],children:(0,a.jsx)(L,{product_id:s.product_id,product_name:s.product_name})})]})]})}),(0,a.jsx)("div",{className:P()["media-1200"],children:(0,a.jsx)(L,{product_id:s.product_id})})]})}var J=s(53483),X=s(69074),Y=s(88469),K=s.n(Y);function $(e){let{breadcrumb:t,features:s,tab:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"container",children:t}),(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:K().section,children:[s,r]})}),(0,a.jsx)(X.Z,{})]})}var ee=s(15929);function et(){let e=(0,U.useRouter)(),[t,s]=(0,r.useState)(""),[n,i]=(0,r.useState)({product_name:"",price:0,summary:"",players:"",age:"",category_id:0});return(0,r.useEffect)(()=>{fetch("".concat(v.OH,"/").concat(e.query.product_id)).then(e=>e.json()).then(e=>{i(e.rows)})},[e.isReady]),(0,r.useEffect)(()=>{n&&n.length>0&&s({...n}[0])},[n]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(z.G,{children:(0,a.jsx)(J.Z,{pageName:"productDetails",background:"light",children:(0,a.jsx)($,{breadcrumb:(0,a.jsx)(ee.Z,{productName:t.product_name}),features:(0,a.jsx)(V,{dbData:n}),tab:(0,a.jsx)(w,{data:n})})})})})}},88469:function(e){e.exports={section:"details_section__Qjsuw"}},892:function(e){e.exports={"d-grid":"features_d-grid__qkjW6","pd-features":"features_pd-features__9Ar2r","features-right":"features_features-right__ZYxHA",container:"features_container__Gw2p1",tag:"features_tag__sPr4U",slick:"features_slick__Q_5lB","add-line":"features_add-line__MgrnO",price:"features_price__IlNDc",priceText:"features_priceText__rEjb7","media-390":"features_media-390__9wKS5",title:"features_title__mRQd2",share:"features_share__5M3Nc",shareStar:"features_shareStar___Wp8E",content:"features_content__i7fFB",quantity:"features_quantity__eIzO5","input-border":"features_input-border__5lA7G",input:"features_input__PlkgV",iconBtn:"features_iconBtn__bRm9v","sm-likeStyle":"features_sm-likeStyle__w7P4z","btn-group":"features_btn-group__u9E7j","media-1200":"features_media-1200__p3Ugc","media-992":"features_media-992__nGy8r","btn-area":"features_btn-area__03AB8",none390:"features_none390__UOWnX"}},60781:function(e){e.exports={"slick-thumb":"slick_slick-thumb__QVFyn","slider-img":"slick_slider-img__tdHiH"}},67729:function(e){e.exports={"d-grid":"tabs_d-grid__6guLK","pd-features":"tabs_pd-features__GP3na",container:"tabs_container__5FAHq","add-line":"tabs_add-line__ZqQq3",description:"tabs_description__Rb6Sn",reviewArea:"tabs_reviewArea__Vicep",content:"tabs_content__BQbaG",customer:"tabs_customer__gUY38",customerReview:"tabs_customerReview__zhlCr",noReview:"tabs_noReview__by6l5",reviewed:"tabs_reviewed__ubnDh",starArea:"tabs_starArea__HW6zg",star780:"tabs_star780___AdRu",mask:"tabs_mask__6UxLz"}}},function(e){e.O(0,[5970,4838,9317,4396,6660,509,2961,4321,594,7473,959,6497,936,2646,598,8170,5275,1085,3483,864,2888,9774,179],function(){return e(e.s=21053)}),_N_E=e.O()}]);